{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We suggest to approach it in four steps:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Preparing (or acquiring) sample files"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Compressing sample files"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Creating a SFZ metadata file"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Testing"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This document describes the process of preparing a set of demonstration samples, starting with the sample files included with "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can download the finished SFZ and samples from "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer\/tree\/master\/RomPlayer\/Sounds\/sfz"},{"type":"text","text":"."}]},{"anchor":"Preparingacquiring-sample-files","level":2,"type":"heading","text":"Preparing\/acquiring sample files"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The demo samples were recorded and prepared by Matthew Fecher from a Yamaha TX81z hardware FM synthesizer module, using commercial sampling software called "},{"type":"reference","isActive":true,"identifier":"http:\/\/www.samplerobot.com"},{"type":"text","text":". If you have "},{"type":"emphasis","inlineContent":[{"type":"text","text":"MainStage 3"}]},{"type":"text","text":" on the Mac, you can use its excellent "},{"type":"emphasis","inlineContent":[{"type":"text","text":"autosampler"}]},{"type":"text","text":" function instead. See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler-SFZ-files"}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Important:"}]},{"type":"text","text":" If you’re planning to work with existing samples, or capture the output from a sample-based instrument, "},{"type":"emphasis","inlineContent":[{"type":"text","text":"give careful consideration to copyright issues"}]},{"type":"text","text":". See Matt Fecher’s excellent summary "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer#what-sounds-can-you-use-in-your-app"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Be very careful with SoundFont files you find on the Internet."}]},{"type":"text","text":" Many are marked “public domain”, but actually consist of unlicensed, illegally copied content. While such things are fine for your own personal use, distributing them publicly with your name attached (e.g. in an iOS app on the App Store) can land you in serious legal trouble."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Turning a set of rough digital recordings into cleanly-playing, looping samples is a complex process in itself, which is beyond the scope of this document. For a quick introduction, see "},{"type":"reference","isActive":true,"identifier":"http:\/\/tweakheadz.com\/sampling-tips\/"},{"type":"text","text":". For in-depth exploration, look into YouTube videos by "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.youtube.com\/user\/thepluginguru"},{"type":"text","text":", in particular "},{"type":"reference","isActive":true,"identifier":"https:\/\/youtu.be\/o7rL38xrRSE"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"https:\/\/youtu.be\/qPbf5nNyQYo"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"https:\/\/youtu.be\/Bx9PC8JJNGg"},{"type":"text","text":"."}]},{"anchor":"Sample-file-compression","level":2,"type":"heading","text":"Sample file compression"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":" reads "},{"type":"codeVoice","code":".wv"},{"type":"text","text":" files compressed using the open-source "},{"type":"reference","isActive":true,"identifier":"http:\/\/www.wavpack.com"},{"type":"text","text":" software. On the Mac, you must first install the Wavpack command-line tools. Then you can use the following Python 2 script to compress a whole folder-full of "},{"type":"codeVoice","code":".wav"},{"type":"text","text":" files:"}]},{"type":"codeListing","syntax":"python","code":["import os, subprocess","","for wav in os.listdir('.'):","  if os.path.isfile(wav) and aif.endswith('.wav'):","    print 'converting', wav","    name = wav[:-4]","    wv = name + '.wv'","    subprocess.call(['\/usr\/local\/bin\/wavpack', '-q', '-r', '-b24', wav])","    #os.remove(wav)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Uncomment the last line if you’re sure you want to delete WAV files after converting them."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that the "},{"type":"codeVoice","code":"wavpack"},{"type":"text","text":" command-line program does not recognize the "},{"type":"codeVoice","code":".aif"},{"type":"text","text":" file format, which is too bad because that’s what "},{"type":"emphasis","inlineContent":[{"type":"text","text":"MainStage 3"}]},{"type":"text","text":"’s autosampler produces. However, we can use the "},{"type":"codeVoice","code":"afconvert"},{"type":"text","text":" command-line utility built into macOS to convert "},{"type":"codeVoice","code":".aif"},{"type":"text","text":" files to "},{"type":"codeVoice","code":".wav"},{"type":"text","text":" like this:"}]},{"type":"codeListing","syntax":"python","code":["import os, subprocess","","for aif in os.listdir('.'):","  if os.path.isfile(aif) and aif.endswith('.aif'):","    print 'converting', aif","    name = aif[:-4]","    wav = name + '.wav'","    wv = name + '.wv'","    subprocess.call(['\/usr\/bin\/afconvert', '-f', 'WAVE', '-d', 'LEI24', aif, wav])","    subprocess.call(['\/usr\/local\/bin\/wavpack', '-q', '-r', '-b24', wav])","    os.remove(wav)","    #os.remove(aif)"]},{"anchor":"Creating-a-SFZ-metadata-file","level":2,"type":"heading","text":"Creating a SFZ metadata file"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Mapping of MIDI (note-number, velocity) pairs to sample files requires additional data, for which "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":" uses a simple subset of the "},{"type":"reference","isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/SFZ_(file_format)"},{"type":"text","text":" declared at https:\/\/sfzformat.com\/headers\/. SFZ is essentially a text-based, open-standard alternative to the proprietary "},{"type":"reference","isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/SoundFont"},{"type":"text","text":" format."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to key-mapping, SFZ files can also contain other important metadata such as loop-start and -end points for each sample file."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The full SFZ standard is very rich, but at the time of writing, "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":"’s SFZ import capability is limited to key mapping and loop metadata only. The import capability also is strict about the order of the opcodes: check the sourcecode of "},{"type":"codeVoice","code":"Sampler+SFZ.swift"},{"type":"text","text":" and place your "},{"type":"codeVoice","code":"sample=YOURSAMPLENAME.YOURFILEFORMAT"},{"type":"text","text":" as the last element in the "},{"type":"codeVoice","code":"<region>"},{"type":"text","text":" line, otherwise the samples will not load."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since SFZ files are simply plain-text files, you can use an ordinary text editor to create them."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You’ll find more details and a simple example in the article "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler-SFZ-files"},{"type":"text","text":"."}]},{"anchor":"Other-methods-to-create-SFZ-files","level":2,"type":"heading","text":"Other methods to create SFZ files"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In "},{"type":"reference","isActive":true,"identifier":"https:\/\/sfzformat.com\/software\/tools\/"},{"type":"text","text":" of sfzformat.com you’ll find some more tools to work with SFZ files."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Ath the moment of this writing (January 2024) there is a freeware called EXS2SFZ by bjoernbojahr that does a good job in coverting EXS files. They will not be directly usable by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":" but are a good starting point to edit the SFZ files manually. The resulting SFZ have opcodes in group that "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":" wants in region and the other way round as well as they don’t follow the strict order needed by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"At the other end of the scale, a company called Chicken Systems sells a very powerful tool called "},{"type":"reference","isActive":true,"identifier":"http:\/\/www.chickensys.com\/products2\/translator\/"},{"type":"text","text":", which can convert both sample and metadata to and from a huge list of professional formats, including EXS24 (Apple), SoundFont (SF2 and SFZ), Kontakt 5 (Native Instruments), and many more. The full version costs $149 (USD), but if you’re only interested in converting to SFZ, you can buy the “Special Edition” for just $79."}]},{"anchor":"Testing","level":2,"type":"heading","text":"Testing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Whatever methods you use to create samples and metadata files, it’s important to test, test, test, to make sure things are working the way you want."}]},{"anchor":"Going-further","level":2,"type":"heading","text":"Going further"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The subject of preparing sample sets is deep and complex, and this article has barely scratched the surface. We hope to provide additional online resources as time goes on, especially as "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":"’s implementation expands and changes. Interested users, especially those with practical experience to share, are encouraged to get in touch with the AudioKit team to help with this process."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/dunneaudiokit\/preparing-sample-sets"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Preparing-Sample-Sets","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Preparing sets of samples for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler"},{"type":"text","text":" involves a few steps and lot of testing."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Sampler sample sets","role":"article","modules":[{"name":"DunneAudioKit"}]},"hierarchy":{"paths":[["doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit"]]},"references":{"doc://DunneAudioKit/documentation/DunneAudioKit":{"role":"collection","title":"DunneAudioKit","abstract":[{"type":"text","text":"Chorus, Flanger, Sampler, Stereo Delay, and Synth for AudioKit, by Shane Dunne."}],"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit","kind":"symbol","type":"topic","url":"\/documentation\/dunneaudiokit"},"http://tweakheadz.com/sampling-tips/":{"title":"The Secrets of Great Sounding Samples","titleInlineContent":[{"type":"text","text":"The Secrets of Great Sounding Samples"}],"type":"link","identifier":"http:\/\/tweakheadz.com\/sampling-tips\/","url":"http:\/\/tweakheadz.com\/sampling-tips\/"},"http://www.chickensys.com/products2/translator/":{"title":"Translator","titleInlineContent":[{"type":"text","text":"Translator"}],"type":"link","identifier":"http:\/\/www.chickensys.com\/products2\/translator\/","url":"http:\/\/www.chickensys.com\/products2\/translator\/"},"http://www.samplerobot.com":{"title":"SampleRobot","titleInlineContent":[{"type":"text","text":"SampleRobot"}],"type":"link","identifier":"http:\/\/www.samplerobot.com","url":"http:\/\/www.samplerobot.com"},"https://sfzformat.com/software/tools/":{"title":"Software > Tools","titleInlineContent":[{"type":"text","text":"Software > Tools"}],"type":"link","identifier":"https:\/\/sfzformat.com\/software\/tools\/","url":"https:\/\/sfzformat.com\/software\/tools\/"},"https://github.com/AudioKit/ROMPlayer":{"title":"ROMPlayer","titleInlineContent":[{"type":"text","text":"ROMPlayer"}],"type":"link","identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer","url":"https:\/\/github.com\/AudioKit\/ROMPlayer"},"doc://DunneAudioKit/documentation/DunneAudioKit/Sampler-SFZ-files":{"role":"article","title":"Sampler with SFZ files","abstract":[{"type":"text","text":"Sampler has a naive implementation of reading SFZ files. This article shows a simple example of a SFZ file and a script for Mainstage 3."}],"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler-SFZ-files","kind":"article","type":"topic","url":"\/documentation\/dunneaudiokit\/sampler-sfz-files"},"https://en.wikipedia.org/wiki/SoundFont":{"title":"SoundFont","titleInlineContent":[{"type":"text","text":"SoundFont"}],"type":"link","identifier":"https:\/\/en.wikipedia.org\/wiki\/SoundFont","url":"https:\/\/en.wikipedia.org\/wiki\/SoundFont"},"http://www.wavpack.com":{"title":"Wavpack","titleInlineContent":[{"type":"text","text":"Wavpack"}],"type":"link","identifier":"http:\/\/www.wavpack.com","url":"http:\/\/www.wavpack.com"},"https://github.com/AudioKit/ROMPlayer#what-sounds-can-you-use-in-your-app":{"title":"What Sounds Can You Use in your App?","titleInlineContent":[{"type":"text","text":"What Sounds Can You Use in your App?"}],"type":"link","identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer#what-sounds-can-you-use-in-your-app","url":"https:\/\/github.com\/AudioKit\/ROMPlayer#what-sounds-can-you-use-in-your-app"},"https://youtu.be/Bx9PC8JJNGg":{"title":"this one","titleInlineContent":[{"type":"text","text":"this one"}],"type":"link","identifier":"https:\/\/youtu.be\/Bx9PC8JJNGg","url":"https:\/\/youtu.be\/Bx9PC8JJNGg"},"https://en.wikipedia.org/wiki/SFZ_(file_format)":{"title":"SFZ format","titleInlineContent":[{"type":"text","text":"SFZ format"}],"type":"link","identifier":"https:\/\/en.wikipedia.org\/wiki\/SFZ_(file_format)","url":"https:\/\/en.wikipedia.org\/wiki\/SFZ_(file_format)"},"https://youtu.be/o7rL38xrRSE":{"title":"this one","titleInlineContent":[{"type":"text","text":"this one"}],"type":"link","identifier":"https:\/\/youtu.be\/o7rL38xrRSE","url":"https:\/\/youtu.be\/o7rL38xrRSE"},"https://www.youtube.com/user/thepluginguru":{"title":"John Lemkuhl aka PlugInGuru","titleInlineContent":[{"type":"text","text":"John Lemkuhl aka PlugInGuru"}],"type":"link","identifier":"https:\/\/www.youtube.com\/user\/thepluginguru","url":"https:\/\/www.youtube.com\/user\/thepluginguru"},"https://github.com/AudioKit/ROMPlayer/tree/master/RomPlayer/Sounds/sfz":{"title":"this link","titleInlineContent":[{"type":"text","text":"this link"}],"type":"link","identifier":"https:\/\/github.com\/AudioKit\/ROMPlayer\/tree\/master\/RomPlayer\/Sounds\/sfz","url":"https:\/\/github.com\/AudioKit\/ROMPlayer\/tree\/master\/RomPlayer\/Sounds\/sfz"},"doc://DunneAudioKit/documentation/DunneAudioKit/Sampler":{"role":"symbol","title":"Sampler","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Sampler"}],"abstract":[{"type":"text","text":"Sampler audio generation"}],"identifier":"doc:\/\/DunneAudioKit\/documentation\/DunneAudioKit\/Sampler","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Sampler"}],"url":"\/documentation\/dunneaudiokit\/sampler"},"https://youtu.be/qPbf5nNyQYo":{"title":"this one","titleInlineContent":[{"type":"text","text":"this one"}],"type":"link","identifier":"https:\/\/youtu.be\/qPbf5nNyQYo","url":"https:\/\/youtu.be\/qPbf5nNyQYo"}}}